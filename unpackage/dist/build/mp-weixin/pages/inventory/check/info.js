(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/inventory/check/info"],{"2b89":function(e,t,n){"use strict";n.r(t);var i=n("9e33"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"33c4":function(e,t,n){},"3fb0":function(e,t,n){"use strict";n.r(t);var i=n("bfff"),a=n("2b89");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("afa6");var u=n("f0c5"),o=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=o.exports},8594:function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("c960");i(n("66fd"));var a=i(n("3fb0"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"9e33":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("edd4"),a=n("b22e"),r=(n("9dfa"),n("0f84")),u={mixins:[i.publicMixin],data:function(){return{menuButtonInfo:null,deptOptions:[],userOptions:[],materialOptions:[],wearhousingOptions:[],form:{warehousingId:"",inventoryBy:"",recordDate:"",remark:""},queryParam:{inventoryId:""},rules:[{name:"warehousingId",rule:["required"],msg:["请选择入库单号"]},{name:"inventoryBy",rule:["required"],msg:["请选择盘点人"]},{name:"recordDate",rule:["required"],msg:["请选择日期"]}]}},onLoad:function(t){var n=t.id;this.menuButtonInfo=e.getMenuButtonBoundingClientRect(),this.getOptionsData(),n&&(this.queryParam.inventoryId=n,this.asyncGetDetail())},methods:{back:function(){e.navigateBack()},getOptionsData:function(){var e=this;Promise.all([(0,a.deptList)(),(0,a.mxMaterialInfoList)(),(0,a.userList)(),(0,a.warehousingList)()]).then((function(t){console.log("所有下拉数据",t);var n=t[0],i=t[1],a=t[2],r=t[3];e.deptOptions=n.data.map((function(e){return{text:e.deptName,value:e.deptId}})),e.materialOptions=i.data.map((function(e){return{text:e.materialName,value:e.materialId}})),e.userOptions=a.data.map((function(e){return{text:e.userName,value:e.userId}})),e.wearhousingOptions=r.data.map((function(e){return{text:e.warehousingNumber,value:e.warehousingId}}))}))},suer:function(){var e=this,t=this.queryParam.inventoryId?a.getCheckUpdate:a.getCheckSave,n=r.validation(this.form,this.rules);n?this.$mvc.alert(n,"error"):t(this.form).then((function(t){0==t.code&&(e.$mvc.alert("提交成功!","success"),setTimeout((function(){e.goToPage("/pages/inventory/check/list")}),2e3))}))},asyncGetDetail:function(){var e=this;(0,a.getCheckInfo)(this.queryParam).then((function(t){console.log(t),0==t.code&&(e.form=t.data)}))}}};t.default=u}).call(this,n("543d")["default"])},afa6:function(e,t,n){"use strict";var i=n("33c4"),a=n.n(i);a.a},bfff:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uniDataSelect:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-data-select/components/uni-data-select/uni-data-select")]).then(n.bind(null,"5030"))},uniDatetimePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker")]).then(n.bind(null,"d5f2"))}},a=function(){var e=this.$createElement;this._self._c},r=[]}},[["8594","common/runtime","common/vendor"]]]);