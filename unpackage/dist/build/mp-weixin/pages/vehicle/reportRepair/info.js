(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/vehicle/reportRepair/info"],{"0adf":function(e,t,n){},1214:function(e,t,n){"use strict";n.r(t);var i=n("9128"),r=n.n(i);for(var u in i)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=r.a},"7d90":function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("3396");i(n("66fd"));var r=i(n("cbf08"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},9128:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("3080"),r=n("ddde"),u=(n("8f7a"),n("2338")),o={mixins:[i.publicMixin],data:function(){return{show:!1,menuButtonInfo:null,deptOptions:[],userOptions:[],materialOptions:[],form:{},queryParam:{drivingId:""},rules:[{name:"orderNumber",rule:["required"],msg:["请选择单号"]},{name:"oilNumber",rule:["required"],msg:["人数"]},{name:"kilometreNumber",rule:["required"],msg:["公里数"]},{name:"kilometreNumber",rule:["required"],msg:["地点"]},{name:"mxDrivingSupplementList",rule:["required"],msg:["新增行"]},{name:"updateTime",rule:["required"],msg:["出车时间"]},{name:"updateTime",rule:["required"],msg:["回车时间"]}]}},onLoad:function(t){var n=t.id;this.menuButtonInfo=e.getMenuButtonBoundingClientRect(),this.getOptionsData(),n&&(this.queryParam.drivingId=n,this.asyncGetDetail())},methods:{open:function(){},close:function(){this.show=!1},success:function(e){e.confirm?console.log("用户点击确定"):e.cancel&&console.log("用户点击取消")},back:function(){e.navigateBack()},getOptionsData:function(){var e=this;Promise.all([(0,r.deptList)(),(0,r.mxMaterialInfoList)(),(0,r.userList)()]).then((function(t){console.log("所有下拉数据",t);var n=t[0],i=t[1],r=t[2];e.deptOptions=n.data.map((function(e){return{text:e.deptName,value:String(e.deptId)}})),e.materialOptions=i.data.map((function(e){return{text:e.materialName,value:e.materialId}})),e.userOptions=r.data.map((function(e){return{text:e.userName,value:String(e.userId)}}))}))},suer:function(){var e=this,t=this.queryParam.drivingId?r.reportRepairUpdate:r.reportRepairSave,n=u.validation(this.form,this.rules);n?this.$mvc.alert(n,"error"):t(this.form).then((function(t){console.log(t),0==t.code&&(console.log(t),e.$mvc.alert("提交成功!","success"),setTimeout((function(){e.goToPage("/pages/vehicle/reportRepair/list")}),2e3))}))},asyncGetDetail:function(){var e=this;(0,r.reportRepairInfo)(this.queryParam).then((function(t){0==t.code&&(e.form=t.data)}))}}};t.default=o}).call(this,n("543d")["default"])},cbf08:function(e,t,n){"use strict";n.r(t);var i=n("e423"),r=n("1214");for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);n("ff2f");var o=n("f0c5"),a=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=a.exports},e423:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));var i={uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"6548"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"fe486"))},uniDatetimePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker")]).then(n.bind(null,"1180"))}},r=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.show=!0})},u=[]},ff2f:function(e,t,n){"use strict";var i=n("0adf"),r=n.n(i);r.a}},[["7d90","common/runtime","common/vendor"]]]);